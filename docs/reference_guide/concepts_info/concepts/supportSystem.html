<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Support System &#8212; Antistasi Guide  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=aefb6c79" />
    <link rel="stylesheet" type="text/css" href="../../../_static/groundwork.css?v=db2bce01" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/sphinx-toolbox.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/tiles.css?v=87cde873" />
    <script src="../../../_static/documentation_options.js?v=7f41d439"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/design-tabs.js?v=36754332"></script>
    <script src="../../../_static/js/line-breaker.js?v=60c4d80a"></script>
    <script src="../../../_static/js/link-new-tab.js?v=7ec8cb70"></script>
    <link rel="icon" href="../../../_static/antistasi_main_favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Train FIA" href="train_fia.html" />
    <link rel="prev" title="Resource Pools" href="resourcePools.html" />
        
            <link
                rel="apple-touch-icon"
                href="../../../_static/"""
            />
        
    <link
        media="only screen and (max-device-width: 480px)"
        href="../../../_static/small_groundwork.css"
        type="text/css"
        rel="stylesheet"
    />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=0.9, maximum-scale=0.9"
    />
    <!-- Place this tag in your head or just before your close body tag. -->
    
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="train_fia.html" title="Train FIA"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="resourcePools.html" title="Resource Pools"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Antistasi Guide  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../reference_guide_index.html" >Detailed Reference Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../concepts_overview.html" accesskey="U">Basic Concepts</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Support System</a></li> 
      </ul>
    </div>

    <div class="document">
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/antistasi_main_logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../beginners_guide/raw_beginners_guide.html">Beginners Guide for Antistasi v3.0</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../reference_guide_index.html">Detailed Reference Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../missions_info/mission_info.html">Mission Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../missions_info/missions_overview.html">Categories</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../concepts_overview.html">Basic Concepts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="AgressionUpdateLoop.html">Agression Update Loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="aggto_system_change.html">Aggro System</a></li>
<li class="toctree-l3"><a class="reference internal" href="airstrikes.html">Airstrikes</a></li>
<li class="toctree-l3"><a class="reference internal" href="attack_choice_system.html">Attack choice system</a></li>
<li class="toctree-l3"><a class="reference internal" href="benefits_of_controlling_a_town.html">Benefits of Controlling a Town</a></li>
<li class="toctree-l3"><a class="reference internal" href="counter_battery_fire.html">Counter Battery Fire</a></li>
<li class="toctree-l3"><a class="reference internal" href="gaining_losing_city_support.html">Gaining and Losing City Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="hq_attack.html">HQ attack system</a></li>
<li class="toctree-l3"><a class="reference internal" href="losing_petros_penalties.html">Losing Petros Penalties</a></li>
<li class="toctree-l3"><a class="reference internal" href="map_markers.html">Map Markers</a></li>
<li class="toctree-l3"><a class="reference internal" href="player_rank.html">Player Rank</a></li>
<li class="toctree-l3"><a class="reference internal" href="qrf_and_attacks.html">QRF and Attack vehicle spawning</a></li>
<li class="toctree-l3"><a class="reference internal" href="radio_towers.html">Radio Towers</a></li>
<li class="toctree-l3"><a class="reference internal" href="resourcePools.html">Resource Pools</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Support System</a></li>
<li class="toctree-l3"><a class="reference internal" href="train_fia.html">Train FIA</a></li>
<li class="toctree-l3"><a class="reference internal" href="war_level.html">War Level</a></li>
<li class="toctree-l3"><a class="reference internal" href="win_loss_conditions.html">Win / Loss Conditions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_guide/dev_guide_index.html">Dev Guide</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <!--<h3>Search</h3>-->
    <form class="search" action="../../../search.html" method="get">
      <div id="search_input"><input type="text" name="q" placeholder="Search"/></div>
      <!--<div id="search_go"><input type="submit" value="Go" /></div>-->
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
    <div>
        <script async defer src="https://buttons.github.io/buttons.js"></script>
        <div class="contribute">
            <h3>GitHub</h3>
            <a class="github-button" href="https://github.com/official-antistasi-community/A3-Antistasi"
               data-icon="octicon-star"
               data-style="mega"
               data-count-href="/official-antistasi-community/A3-Antistasi/stargazers"
               data-count-api="/repos/official-antistasi-community/A3-Antistasi#stargazers_count"
               data-count-aria-label="# stargazers on GitHub"
               aria-label="Star official-antistasi-community/A3-Antistasi on GitHub">Star</a>
            <br>
            <a class="github-button" href="https://github.com/official-antistasi-community"
               data-style="mega"
               aria-label="Follow @official-antistasi-community on GitHub">Follow @official-antistasi-community</a>
            <br>
        </div>
    </div>
    <div>
        <span id="sponsor-btn">
        </span>
        <script src="_static/js/sponsor-btn.js"></script>
    </div>

        </div>
      </div>
        
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="support-system">
<span id="concept-supportsystem"></span><h1>Support System<a class="headerlink" href="#support-system" title="Link to this heading"></a></h1>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mt-3 docutils">
<div class="sd-card-header header-2-light docutils">
<p class="sd-card-text">Description</p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">This is the call/response system rather than the limited-knowledge system, as I got it mostly working first. Might be replaced in the future as limited-knowledge does have advantages. Key files:</p>
<ul class="simple">
<li><p class="sd-card-text">initSupports set up various arrays and hashmaps used by the support system, including marker values and static support type data. They’re all documented there, so I won’t repeat it here.</p></li>
<li><p class="sd-card-text">maxDefenceSpend determines how many resources can be spent against a particular target or marker. It takes account of the importance of the location (based on nearby friendly and enemy markers), aggregate threat (based on live friendly garrisons and enemy troops nearby, plus recent casualties taken), available resources, and support resources already spent against that target/area.</p></li>
<li><p class="sd-card-text">requestSupport takes dumb support requests against targets (typically from callForSupport or airspaceControl), uses maxDefenceSpend to decide how many resources to spend, and then chooses a support type dependening on base types (area, troops, target) already called nearby. It also uses the SUP_*Available functions to generate weights for each support based on target type and other support-specific factors. There is a similar but simpler function (requestArtillery) used to choose artillery type supports for attacks. requestSupport always uses the defence pool.</p></li>
<li><p class="sd-card-text">createSupport is a worker function to force-create a support of a specific type. It will use already-active supports by preference, if they don’t currently have a target.</p></li>
</ul>
<p class="sd-card-text">Each support typically has an availability function (actually returns a weight now, could be renamed), a creation function (intended to be called by createSupport, and so returns fairly quickly), and a persistently spawned routine that manages the support while active. Multi-target supports update the A3A_activeSupports array to indicate readiness and completion.</p>
<p class="sd-card-text">All working supports from the previous system have been preserved except for Gunship, which needs now updating to new systems.</p>
<p class="sd-card-text">Individual supports have been heavily refactored and in some cases rewritten. Some common trends:</p>
<ul class="simple">
<li><p class="sd-card-text">Event handlers for damage response have been generalised and moved to AIVehInit.</p></li>
<li><p class="sd-card-text">Support marker creation and maintenance is now offloaded to showInterceptedSupportCall.</p></li>
<li><p class="sd-card-text">Multitarget supports now only store one target at once. This avoids problems where the support system would overstack a support with targets it was never likely to engage.</p></li>
</ul>
<p class="sd-card-text">The CAS support had a major overhaul, rewriting the pre-run loop to a semi-proper state engine and converting CASRun to an onEachFrame handler so that it behaves properly under moderate script load.</p>
<p class="sd-card-text">callForSupport is now only triggered by damage, not spotting. Unconsciousness triggers have been cleaned up to call AIReactOnKill more consistently with and without ACE. These triggers also add to the recentDamage arrays on the server, to improve the decision making of maxDefenceSpend.</p>
<p class="sd-card-text">Marker recapture counterattacks now use maxDefenceSpend to calculate how large a counterattack to send. If the capture was a hard fight with multiple supports called, or the flag was reflipped shortly after a counterattack was cleared, it’s likely that nothing further will be sent.</p>
</div>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
    
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="train_fia.html" title="Train FIA"
             >next</a> |</li>
        <li class="right" >
          <a href="resourcePools.html" title="Resource Pools"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Antistasi Guide  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../reference_guide_index.html" >Detailed Reference Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../concepts_overview.html" >Basic Concepts</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Support System</a></li> 
      </ul>
    </div>
    <div class="footer">&copy; Copyright 2024, Official Antistasi Community. Last updated 2024/March/19</div>
  </body>
</html>